@import url("https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap");

@tailwind base; /* 引入 Tailwind 的基础样式，重置浏览器默认样式。 */
@tailwind components; /* 引入预设组件类，便于快速布局。 */
@tailwind utilities; /* 引入工具类集合，用于组合式开发。 */

/* 深色金属主题：使用径向渐变与 Orbitron 字体构建沉浸式舞台氛围。 */
:root {
  color-scheme: dark;
}

body {
  @apply bg-darkmetal text-gray-200 font-orbitron;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
  background: radial-gradient(circle at 50% 50%, #161616 0%, #050505 100%);
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.05), transparent 45%),
    radial-gradient(circle at 80% 12%, rgba(229, 9, 20, 0.15), transparent 60%),
    repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.06) 0, rgba(255, 255, 255, 0.02) 2px, transparent 2px, transparent 6px);
  opacity: 0.55;
  mix-blend-mode: screen;
  z-index: -1;
}

body::after {
  content: "";
  position: fixed;
  inset: -200%;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='0.32'/%3E%3C/svg%3E");
  animation: noiseShift 7s linear infinite;
  opacity: 0.14;
  z-index: -2;
}

@keyframes noiseShift {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    transform: translate3d(-10%, -12%, 0);
  }
}

/* 金属质感按钮：默认内凹，悬停时点亮红色描边体现交互焦点。 */
.metal-button {
  background: linear-gradient(145deg, #2f2f2f, #151515);
  border: 1px solid #555;
  box-shadow: inset 0 1px rgba(255, 255, 255, 0.08), 0 10px 20px rgba(0, 0, 0, 0.55);
  color: #f5f5f5;
  transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
  text-transform: uppercase;
  letter-spacing: 0.12em;
}

.metal-button:hover:not(:disabled) {
  background: linear-gradient(145deg, #3a1515, #1d0606);
  border-color: rgba(229, 9, 20, 0.8);
  box-shadow: inset 0 1px rgba(229, 9, 20, 0.5), 0 14px 28px rgba(229, 9, 20, 0.35);
  transform: translateY(-1px);
}

.metal-button:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: inset 0 1px rgba(229, 9, 20, 0.4), inset 0 -2px 6px rgba(0, 0, 0, 0.6);
}

.metal-button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(229, 9, 20, 0.75), 0 0 0 4px rgba(229, 9, 20, 0.25);
}

.metal-button:disabled {
  opacity: 0.45;
  cursor: not-allowed;
  box-shadow: inset 0 1px rgba(255, 255, 255, 0.05), 0 0 0 transparent;
  border-color: #444;
}

/* 面板容器使用轻微边框与发光描边强调卡片层次。 */
.metal-panel {
  background: linear-gradient(170deg, rgba(32, 32, 32, 0.92), rgba(10, 10, 10, 0.94));
  border: 1px solid rgba(148, 148, 148, 0.25);
  box-shadow: inset 0 1px rgba(255, 255, 255, 0.06), 0 24px 48px rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(14px);
}

/* 步骤切换淡入动画，提升阶段过渡的仪式感。 */
@keyframes fadeMetal {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@layer utilities {
  .animate-metal-fade {
    animation: fadeMetal 0.35s ease forwards;
  }
}

/* 红色呼吸灯用于高亮当前步骤。 */
.glow-line {
  position: relative;
}

.glow-line::after {
  content: "";
  position: absolute;
  inset: auto 0 -4px 0;
  height: 2px;
  background: linear-gradient(90deg, rgba(229, 9, 20, 0) 0%, rgba(229, 9, 20, 0.85) 50%, rgba(229, 9, 20, 0) 100%);
  filter: blur(1px);
}

/* Shoelace 旋钮配色：统一为血红色调，确保控件风格一致。 */
sl-range::part(base) {
  --track-color: rgba(229, 9, 20, 0.2);
  --track-active-color: #e50914;
  --thumb-color: #e50914;
}

sl-select::part(tag-base),
sl-input::part(base) {
  background-color: rgba(20, 20, 20, 0.85);
  border: 1px solid rgba(229, 9, 20, 0.25);
  color: #f5f5f5;
}
