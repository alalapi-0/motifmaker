# ===============================
# MotifMaker 环境变量示例（开发/部署通用）
# 使用说明：复制为项目根目录的 .env 后按需调整，并参考 deploy/README_DEPLOY.md 获取完整部署步骤。
# ===============================

# API_TITLE 控制 FastAPI 文档标题，生产环境可填入公司/品牌名称。
API_TITLE=MotifMaker API

# API_VERSION 用于区分当前部署的后端版本，可与 Git 标签保持一致。
API_VERSION=0.2.0

# ALLOWED_ORIGINS 指定允许的前端域名列表，多个域名以逗号分隔。
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# OUTPUT_DIR 定义渲染产物输出目录，默认为仓库下 outputs/，注意该目录已在 .gitignore 中忽略。
OUTPUT_DIR=outputs

# PROJECTS_DIR 定义项目文件存储目录，默认为仓库下 projects/，同样已被忽略不入库。
PROJECTS_DIR=projects

# RATE_LIMIT_RPS 设置单个客户端每秒最大请求数，生产环境可根据吞吐需求调整。
RATE_LIMIT_RPS=2

# LOG_LEVEL 控制日志详细程度，可选 DEBUG/INFO/WARNING/ERROR。
LOG_LEVEL=INFO

# AUDIO_PROVIDER 控制音频渲染提供商，默认 placeholder；可选 placeholder/hf/replicate。
# 注意：切换到 hf/replicate 前务必配置对应的 API Token，否则请求会直接返回 E_CONFIG 错误。
AUDIO_PROVIDER=placeholder

# HF_API_TOKEN 为 Hugging Face Inference API Token，可在 https://huggingface.co/settings/tokens 申请。
# 切勿将真实 Token 提交至仓库或日志；若留空，后端会拒绝调用远程渲染。
HF_API_TOKEN=

# HF_MODEL 指定 Hugging Face 推理模型，默认 facebook/musicgen-small，可根据需求替换为其他模型或私有端点。
HF_MODEL=facebook/musicgen-small

# REPLICATE_API_TOKEN 为 Replicate 平台的访问令牌，可在 https://replicate.com/account 获取。
# 同样不要提交到仓库或分享给他人；缺失 Token 时服务端会返回 provider token missing。
REPLICATE_API_TOKEN=

# REPLICATE_MODEL 设定 Replicate 使用的推理版本，例如 meta/musicgen:latest，升级模型时可在此调整。
REPLICATE_MODEL=meta/musicgen:latest

# RENDER_TIMEOUT_SEC 定义服务端等待外部渲染响应的最大秒数，默认 120，超过后返回 E_RENDER_TIMEOUT。
RENDER_TIMEOUT_SEC=120

# RENDER_MAX_SECONDS 限制单次生成音频的最长时长（秒），防止成本失控；默认 30，可根据套餐调优。
RENDER_MAX_SECONDS=30

# DAILY_FREE_QUOTA 控制每日免费渲染次数（按 IP/Email 计），默认 10；设置为 0 代表完全禁用免费额度。
DAILY_FREE_QUOTA=10

# PRO_USER_EMAILS 配置 pro 白名单，逗号分隔 Email，列入后免配额/计费限制。
PRO_USER_EMAILS=

# USAGE_DB_PATH 指定配额统计的 SQLite 路径，默认 var/usage.db；注意 var/ 已在 .gitignore 中忽略，避免提交。
USAGE_DB_PATH=var/usage.db

# HOST 为 Uvicorn 监听地址，开发可用 127.0.0.1，生产建议回环并由反向代理暴露。
HOST=127.0.0.1

# PORT 为 Uvicorn 监听端口，默认 8000，需与反向代理 upstream 配置保持一致。
PORT=8000
